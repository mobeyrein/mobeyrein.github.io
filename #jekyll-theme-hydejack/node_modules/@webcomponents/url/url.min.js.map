{"version":3,"sources":["url.js"],"names":["scope","IDNAToASCII","h","clear","call","_isInvalid","toLowerCase","percentEscape","c","unicode","charCodeAt","indexOf","encodeURIComponent","percentEscapeQuery","parse","input","stateOverride","base","err","message","errors","push","state","cursor","buffer","seenAt","seenBracket","undefined","ALPHA","test","ALPHANUMERIC","_scheme","relative","_isRelative","_query","_fragment","_schemeData","_host","_port","_path","slice","_username","_password","nextC","nextNextC","pop","i","length","cp","tempC","temp","parseInt","tmp","relativePathDotMapping","jURL","url","String","_url","replace","hasWorkingUrl","u","URL","pathname","href","e","Object","create","prototype","toString","authority","protocol","host","hostname","port","join","search","hash","origin","OriginalURL","blob","createObjectURL","apply","arguments","revokeObjectURL","window"],"mappings":"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","file":"url.min.js","sourcesContent":["/* Any copyright is dedicated to the Public Domain.\n * http://creativecommons.org/publicdomain/zero/1.0/ */\n\n/** @type {boolean|undefined} */\nWindow.prototype.forceJURL = false;\n\n(function (scope) {\n  'use strict';\n\n  // feature detect for URL constructor\n  var hasWorkingUrl = false;\n  if (!scope.forceJURL) {\n    try {\n      var u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      hasWorkingUrl = u.href === 'http://a/c%20d';\n    } catch (e) {} // eslint-disable-line no-empty\n  }\n\n  if (hasWorkingUrl) {\n    return;\n  }\n\n  var relative = Object.create(null);\n  relative['ftp'] = 21;\n  relative['file'] = 0;\n  relative['gopher'] = 70;\n  relative['http'] = 80;\n  relative['https'] = 443;\n  relative['ws'] = 80;\n  relative['wss'] = 443;\n\n  var relativePathDotMapping = Object.create(null);\n  relativePathDotMapping['%2e'] = '.';\n  relativePathDotMapping['.%2e'] = '..';\n  relativePathDotMapping['%2e.'] = '..';\n  relativePathDotMapping['%2e%2e'] = '..';\n\n  function isRelativeScheme(scheme) {\n    return relative[scheme] !== undefined;\n  }\n\n  function invalid() {\n    clear.call(this);\n    this._isInvalid = true;\n  }\n\n  function IDNAToASCII(h) {\n    if ('' == h) {\n      invalid.call(this);\n    }\n    // XXX\n    return h.toLowerCase();\n  }\n\n  function percentEscape(c) {\n    var unicode = c.charCodeAt(0);\n    if (\n      unicode > 0x20 &&\n      unicode < 0x7f &&\n      // \" # < > ? `\n      [0x22, 0x23, 0x3c, 0x3e, 0x3f, 0x60].indexOf(unicode) == -1\n    ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  function percentEscapeQuery(c) {\n    // XXX This actually needs to encode c using encoding and then\n    // convert the bytes one-by-one.\n\n    var unicode = c.charCodeAt(0);\n    if (\n      unicode > 0x20 &&\n      unicode < 0x7f &&\n      // \" # < > ` (do not escape '?')\n      [0x22, 0x23, 0x3c, 0x3e, 0x60].indexOf(unicode) == -1\n    ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  var EOF = undefined,\n    ALPHA = /[a-zA-Z]/,\n    ALPHANUMERIC = /[a-zA-Z0-9+\\-.]/;\n\n  /**\n   * @param {!string} input\n   * @param {?string=} stateOverride\n   * @param {(URL|string)=} base\n   */\n  function parse(input, stateOverride, base) {\n    function err(message) {\n      errors.push(message);\n    }\n\n    var state = stateOverride || 'scheme start',\n      cursor = 0,\n      buffer = '',\n      seenAt = false,\n      seenBracket = false,\n      errors = [];\n\n    loop: while (\n      (input[cursor - 1] != EOF || cursor == 0) &&\n      !this._isInvalid\n    ) {\n      var c = input[cursor];\n      switch (state) {\n        case 'scheme start':\n          if (c && ALPHA.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n            state = 'scheme';\n          } else if (!stateOverride) {\n            buffer = '';\n            state = 'no scheme';\n            continue;\n          } else {\n            err('Invalid scheme.');\n            break loop;\n          }\n          break;\n\n        case 'scheme':\n          if (c && ALPHANUMERIC.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n          } else if (':' == c) {\n            this._scheme = buffer;\n            buffer = '';\n            if (stateOverride) {\n              break loop;\n            }\n            if (isRelativeScheme(this._scheme)) {\n              this._isRelative = true;\n            }\n            if ('file' == this._scheme) {\n              state = 'relative';\n            } else if (\n              this._isRelative &&\n              base &&\n              base._scheme == this._scheme\n            ) {\n              state = 'relative or authority';\n            } else if (this._isRelative) {\n              state = 'authority first slash';\n            } else {\n              state = 'scheme data';\n            }\n          } else if (!stateOverride) {\n            buffer = '';\n            cursor = 0;\n            state = 'no scheme';\n            continue;\n          } else if (EOF == c) {\n            break loop;\n          } else {\n            err('Code point not allowed in scheme: ' + c);\n            break loop;\n          }\n          break;\n\n        case 'scheme data':\n          if ('?' == c) {\n            this._query = '?';\n            state = 'query';\n          } else if ('#' == c) {\n            this._fragment = '#';\n            state = 'fragment';\n          } else {\n            // XXX error handling\n            if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n              this._schemeData += percentEscape(c);\n            }\n          }\n          break;\n\n        case 'no scheme':\n          if (!base || !isRelativeScheme(base._scheme)) {\n            err('Missing scheme.');\n            invalid.call(this);\n          } else {\n            state = 'relative';\n            continue;\n          }\n          break;\n\n        case 'relative or authority':\n          if ('/' == c && '/' == input[cursor + 1]) {\n            state = 'authority ignore slashes';\n          } else {\n            err('Expected /, got: ' + c);\n            state = 'relative';\n            continue;\n          }\n          break;\n\n        case 'relative':\n          this._isRelative = true;\n          if ('file' != this._scheme) {\n            this._scheme = base._scheme;\n          }\n          if (EOF == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._username = base._username;\n            this._password = base._password;\n            break loop;\n          } else if ('/' == c || '\\\\' == c) {\n            if ('\\\\' == c) {\n              err('\\\\ is an invalid code point.');\n            }\n            state = 'relative slash';\n          } else if ('?' == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = '?';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'query';\n          } else if ('#' == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._fragment = '#';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'fragment';\n          } else {\n            var nextC = input[cursor + 1];\n            var nextNextC = input[cursor + 2];\n            if (\n              'file' != this._scheme ||\n              !ALPHA.test(c) ||\n              (nextC != ':' && nextC != '|') ||\n              (EOF != nextNextC &&\n                '/' != nextNextC &&\n                '\\\\' != nextNextC &&\n                '?' != nextNextC &&\n                '#' != nextNextC)\n            ) {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n              this._path = base._path.slice();\n              this._path.pop();\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'relative slash':\n          if ('/' == c || '\\\\' == c) {\n            if ('\\\\' == c) {\n              err('\\\\ is an invalid code point.');\n            }\n            if ('file' == this._scheme) {\n              state = 'file host';\n            } else {\n              state = 'authority ignore slashes';\n            }\n          } else {\n            if ('file' != this._scheme) {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'authority first slash':\n          if ('/' == c) {\n            state = 'authority second slash';\n          } else {\n            err(\"Expected '/', got: \" + c);\n            state = 'authority ignore slashes';\n            continue;\n          }\n          break;\n\n        case 'authority second slash':\n          state = 'authority ignore slashes';\n          if ('/' != c) {\n            err(\"Expected '/', got: \" + c);\n            continue;\n          }\n          break;\n\n        case 'authority ignore slashes':\n          if ('/' != c && '\\\\' != c) {\n            state = 'authority';\n            continue;\n          } else {\n            err('Expected authority, got: ' + c);\n          }\n          break;\n\n        case 'authority':\n          if ('@' == c) {\n            if (seenAt) {\n              err('@ already seen.');\n              buffer += '%40';\n            }\n            seenAt = true;\n            for (var i = 0; i < buffer.length; i++) {\n              var cp = buffer[i];\n              if ('\\t' == cp || '\\n' == cp || '\\r' == cp) {\n                err('Invalid whitespace in authority.');\n                continue;\n              }\n              // XXX check URL code points\n              if (':' == cp && null === this._password) {\n                this._password = '';\n                continue;\n              }\n              var tempC = percentEscape(cp);\n              null !== this._password\n                ? (this._password += tempC)\n                : (this._username += tempC);\n            }\n            buffer = '';\n          } else if (\n            EOF == c ||\n            '/' == c ||\n            '\\\\' == c ||\n            '?' == c ||\n            '#' == c\n          ) {\n            cursor -= buffer.length;\n            buffer = '';\n            state = 'host';\n            continue;\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'file host':\n          if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c) {\n            if (\n              buffer.length == 2 &&\n              ALPHA.test(buffer[0]) &&\n              (buffer[1] == ':' || buffer[1] == '|')\n            ) {\n              state = 'relative path';\n            } else if (buffer.length == 0) {\n              state = 'relative path start';\n            } else {\n              this._host = IDNAToASCII.call(this, buffer);\n              buffer = '';\n              state = 'relative path start';\n            }\n            continue;\n          } else if ('\\t' == c || '\\n' == c || '\\r' == c) {\n            err('Invalid whitespace in file host.');\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'host':\n        case 'hostname':\n          if (':' == c && !seenBracket) {\n            // XXX host parsing\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'port';\n            if ('hostname' == stateOverride) {\n              break loop;\n            }\n          } else if (\n            EOF == c ||\n            '/' == c ||\n            '\\\\' == c ||\n            '?' == c ||\n            '#' == c\n          ) {\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'relative path start';\n            if (stateOverride) {\n              break loop;\n            }\n            continue;\n          } else if ('\\t' != c && '\\n' != c && '\\r' != c) {\n            if ('[' == c) {\n              seenBracket = true;\n            } else if (']' == c) {\n              seenBracket = false;\n            }\n            buffer += c;\n          } else {\n            err('Invalid code point in host/hostname: ' + c);\n          }\n          break;\n\n        case 'port':\n          if (/[0-9]/.test(c)) {\n            buffer += c;\n          } else if (\n            EOF == c ||\n            '/' == c ||\n            '\\\\' == c ||\n            '?' == c ||\n            '#' == c ||\n            stateOverride\n          ) {\n            if ('' != buffer) {\n              var temp = parseInt(buffer, 10);\n              if (temp != relative[this._scheme]) {\n                this._port = temp + '';\n              }\n              buffer = '';\n            }\n            if (stateOverride) {\n              break loop;\n            }\n            state = 'relative path start';\n            continue;\n          } else if ('\\t' == c || '\\n' == c || '\\r' == c) {\n            err('Invalid code point in port: ' + c);\n          } else {\n            invalid.call(this);\n          }\n          break;\n\n        case 'relative path start':\n          if ('\\\\' == c) {\n            err(\"'\\\\' not allowed in path.\");\n          }\n          state = 'relative path';\n          if ('/' != c && '\\\\' != c) {\n            continue;\n          }\n          break;\n\n        case 'relative path':\n          if (\n            EOF == c ||\n            '/' == c ||\n            '\\\\' == c ||\n            (!stateOverride && ('?' == c || '#' == c))\n          ) {\n            if ('\\\\' == c) {\n              err('\\\\ not allowed in relative path.');\n            }\n            var tmp;\n            // eslint-disable-next-line no-cond-assign\n            if ((tmp = relativePathDotMapping[buffer.toLowerCase()])) {\n              buffer = tmp;\n            }\n            if ('..' == buffer) {\n              this._path.pop();\n              if ('/' != c && '\\\\' != c) {\n                this._path.push('');\n              }\n            } else if ('.' == buffer && '/' != c && '\\\\' != c) {\n              this._path.push('');\n            } else if ('.' != buffer) {\n              if (\n                'file' == this._scheme &&\n                this._path.length == 0 &&\n                buffer.length == 2 &&\n                ALPHA.test(buffer[0]) &&\n                buffer[1] == '|'\n              ) {\n                buffer = buffer[0] + ':';\n              }\n              this._path.push(buffer);\n            }\n            buffer = '';\n            if ('?' == c) {\n              this._query = '?';\n              state = 'query';\n            } else if ('#' == c) {\n              this._fragment = '#';\n              state = 'fragment';\n            }\n          } else if ('\\t' != c && '\\n' != c && '\\r' != c) {\n            buffer += percentEscape(c);\n          }\n          break;\n\n        case 'query':\n          if (!stateOverride && '#' == c) {\n            this._fragment = '#';\n            state = 'fragment';\n          } else if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n            this._query += percentEscapeQuery(c);\n          }\n          break;\n\n        case 'fragment':\n          if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n            this._fragment += c;\n          }\n          break;\n      }\n\n      cursor++;\n    }\n  }\n\n  function clear() {\n    this._scheme = '';\n    this._schemeData = '';\n    this._username = '';\n    this._password = null;\n    this._host = '';\n    this._port = '';\n    this._path = [];\n    this._query = '';\n    this._fragment = '';\n    this._isInvalid = false;\n    this._isRelative = false;\n  }\n\n  // Does not process domain names or IP addresses.\n  // Does not handle encoding for the query parameter.\n  /**\n   * @constructor\n   * @extends {URL}\n   * @param {!string} url\n   * @param {(URL|string)=} base\n   */\n  function jURL(url, base /* , encoding */) {\n    if (base !== undefined && !(base instanceof jURL)) {\n      base = new jURL(String(base));\n    }\n\n    this._url = '' + url;\n    clear.call(this);\n\n    var input = this._url.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g, '');\n    // encoding = encoding || 'utf-8'\n\n    parse.call(this, input, null, base);\n  }\n\n  jURL.prototype = {\n    toString: function () {\n      return this.href;\n    },\n    get href() {\n      if (this._isInvalid) {\n        return this._url;\n      }\n\n      var authority = '';\n      if ('' != this._username || null != this._password) {\n        authority =\n          this._username +\n          (null != this._password ? ':' + this._password : '') +\n          '@';\n      }\n\n      return (\n        this.protocol +\n        (this._isRelative ? '//' + authority + this.host : '') +\n        this.pathname +\n        this._query +\n        this._fragment\n      );\n    },\n    set href(href) {\n      clear.call(this);\n      parse.call(this, href);\n    },\n\n    get protocol() {\n      return this._scheme + ':';\n    },\n    set protocol(protocol) {\n      if (this._isInvalid) {\n        return;\n      }\n      parse.call(this, protocol + ':', 'scheme start');\n    },\n\n    get host() {\n      return this._isInvalid\n        ? ''\n        : this._port\n        ? this._host + ':' + this._port\n        : this._host;\n    },\n    set host(host) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      parse.call(this, host, 'host');\n    },\n\n    get hostname() {\n      return this._host;\n    },\n    set hostname(hostname) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      parse.call(this, hostname, 'hostname');\n    },\n\n    get port() {\n      return this._port;\n    },\n    set port(port) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      parse.call(this, port, 'port');\n    },\n\n    get pathname() {\n      return this._isInvalid\n        ? ''\n        : this._isRelative\n        ? '/' + this._path.join('/')\n        : this._schemeData;\n    },\n    set pathname(pathname) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      this._path = [];\n      parse.call(this, pathname, 'relative path start');\n    },\n\n    get search() {\n      return this._isInvalid || !this._query || '?' == this._query\n        ? ''\n        : this._query;\n    },\n    set search(search) {\n      if (this._isInvalid || !this._isRelative) {\n        return;\n      }\n      this._query = '?';\n      if ('?' == search[0]) {\n        search = search.slice(1);\n      }\n      parse.call(this, search, 'query');\n    },\n\n    get hash() {\n      return this._isInvalid || !this._fragment || '#' == this._fragment\n        ? ''\n        : this._fragment;\n    },\n    set hash(hash) {\n      if (this._isInvalid) {\n        return;\n      }\n      if (!hash) {\n        this._fragment = '';\n        return;\n      }\n      this._fragment = '#';\n      if ('#' == hash[0]) {\n        hash = hash.slice(1);\n      }\n      parse.call(this, hash, 'fragment');\n    },\n\n    get origin() {\n      var host;\n      if (this._isInvalid || !this._scheme) {\n        return '';\n      }\n      // javascript: Gecko returns String(\"\"), WebKit/Blink String(\"null\")\n      // Gecko throws error for \"data://\"\n      // data: Gecko returns \"\", Blink returns \"data://\", WebKit returns \"null\"\n      // Gecko returns String(\"\") for file: mailto:\n      // WebKit/Blink returns String(\"SCHEME://\") for file: mailto:\n      switch (this._scheme) {\n        case 'data':\n        case 'file':\n        case 'javascript':\n        case 'mailto':\n          return 'null';\n      }\n      host = this.host;\n      if (!host) {\n        return '';\n      }\n      return this._scheme + '://' + host;\n    },\n  };\n\n  // Copy over the static methods\n  var OriginalURL = scope.URL;\n  if (OriginalURL) {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    jURL['createObjectURL'] = function (blob) {\n      // IE extension allows a second optional options argument.\n      // http://msdn.microsoft.com/en-us/library/ie/hh772302(v=vs.85).aspx\n      return OriginalURL.createObjectURL.apply(OriginalURL, arguments);\n    };\n    jURL['revokeObjectURL'] = function (url) {\n      OriginalURL.revokeObjectURL(url);\n    };\n  }\n\n  scope.URL = jURL;\n})(window);\n"]}